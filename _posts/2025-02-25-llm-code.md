---
layout: post
title:  "大模型应用: 代码辅助"
date:   2025-02-25 19:25:00
categories: 大模型
tags: 大模型 代码生成
excerpt: 大模型代码辅助专题
author: 鹤啸九天
mathjax: true
permalink: /llm_code
---

* content
{:toc}

# 大模型应用: 代码辅助


## 总结

【2024-9-6】 第三方观点 常见编码助手：阿里通义灵码，商汤小浣熊，智谱codegeex，讯飞iflycoder
- 反响最好是通义灵码…

【2025-2-25】 最强代码模型 Claude 3.7, Grok 3



## 评测


【2025-2-25】 实测: 大模型生成《哪吒2》人物抽签系统
- [公众号](https://mp.weixin.qq.com/s/jbbTPy_zkZIfRUH8wjkSGA)

总结（60分及格，低分不计入榜单）
- 功能完成度：DeepSeek V3＞Gemini-2 Flash＞豆包 1.5-Pro＞OpenAI o3-mini
- 页面美观度：DeepSeek V3＞DeepSeek R1满血版=DeepSeek R1联网版=Gemini-2 Flash＞豆包 1.5-Pro
- 数据准确度：DeepSeek R1满血版=豆包 1.5-Pro＞DeepSeek R1联网版=OpenAI o3-mini=Gemini-2 Flash＞GPT-4o-mini
- 自我认知：全部失败，只有DeepSeek能报出模型名（不过是GPT-4）

整体：DeepSeek V3强于DeepSeek R1=openai系列

![](https://pic1.zhimg.com/v2-2185f2f980835b7e02b5b4c27b9ec736_1440w.jpg)

## 数据集


### BigCodeBench

BigCodeBench: 继 HumanEval 之后的新一代代码生成基准测试
- [BigCodeBench: The Next Generation of HumanEval](https://huggingface.co/blog/leaderboard-bigcodebench)

BigCodeBench 包含1140个函数级任务，挑战 LLMs 遵循指令并将来自139个库的多个函数调用作为工具进行组合。

BigCodeBench 为每个任务提供了复杂的、面向用户的指令，包括清晰的功能描述、输入/输出格式、错误处理和已验证的交互示例。我们避免逐步的任务指令，相信有能力的 LLMs 应该能够从用户的角度以开放的方式理解和解决任务。我们通过测试用例验证特定功能。

![](https://github.com/bigcode-bench/bigcode-bench.github.io/blob/main/asset/tease.svg?raw=true)


## 任务

### NL2Code

【2023-5-30】[代码大模型综述：中科院和MSRA调研27个LLMs，并给出5个有趣挑战](https://mp.weixin.qq.com/s/t2SMftox6546E7kvRgQMnA)
- NL2Code: 将自然语言转换成可执行代码来提高开发人员的工作效率
- 中科院和微软亚洲研究院在 ACL 2023 国际顶会上发表的一篇综述：调研了 NL2Code 领域中的「27 个大型语言模型以及相关评价指标」，分析了「LLMs 的成功在于模型参数、数据质量和专家调优」，并指出了「NL2Code 领域研究的 5 个机遇挑战」，最后作者建立了一个分享[网站](https://nl2code.github.io)来跟踪 LLMs 在 NL2Code 任务上的最新进展。
- [Large Language Models Meet NL2Code: A Survey](https://arxiv.org/abs/2212.09420)


## 代码辅助工具


### AI Shell

AI Shell 将**自然语言**转换为**Shell命令**的CLI工具。受 GitHub Copilot X CLI 启发，但AI Shell是开源的，为所有人提供服务。

用户只需安装 AI Shell 并从OpenAI获取API密钥，便可使用该工具。
- [ai-shell](https://github.com/BuilderIO/ai-shell)

![](https://user-images.githubusercontent.com/844291/230413167-773845e7-4c9f-44a5-909c-02802b5e49f6.gif)



### Cursor

【2024-11-16】10几个人如何构建20多亿的cursor，Lex 对 Cursor 团队访谈
- 视频版 [Cursor CEO访谈](https://youtu.be/oFfVt3S51T4?si=pOPwdXxdALWLrcuw)
- 文章介绍 
  - 【2024-10-31】[Cursor：如何构建 AI Coding 最佳实践？](https://mp.weixin.qq.com/s/4gXqwmtTFny9QMuw1WVdRw)

AI coding 是模型推理能力增加之后的下一个竞争高地。
- Github Copilot 是第一个 LLM-driven 的消费级应用

除了模型厂商、AI Labs 之外，这个领域的参与者也有着 Cursor 这样的初创团队

作为一个 LLM-first IDE，Cursor 在今年迅速出圈
- 一方面: 底层模型 `Claude Sonnet 3.5` 模型 coding 能力提升带来的体验升级
- 另一方面: 团队在 AI Coding UI/UX 上的持续投入。

技术选型
- 刚开始用 Vim 做代码编辑。当时还没有 Neovim，只有 Vim 和一个终端。
- 2021 年 Copilot 发布时，由于 Copilot 只能在 VS Code 上使用，所以 Cursor 转用 VS Code 了。
- Copilot 和 VS Code 组合使用体验特别好，所以即便很喜欢 Vim，还是转向了 VS Code。
- 开发 Cursor 之前，VS Code 都是默认编辑器。

Cursor 是怎么做预测的？Cursor 延迟很低, Tab 健能做下一步动作预测（next action prediction）

背后的技术细节
- 训练了专门**MoE小模型**: 这些模型很依赖 pre-fill tokens
  - 这些模型面对的是非常长的 prompt，需要处理很多代码行，但是实际生成的 token 并不多。这种情况下使用**稀疏模型**（Sparse Model）就很合适，一种 MoE 模型。这个突破**显著**提高了模型处理长上下文时的性能。
- 基于**推测解码**（Speculative Decoding）构建了**推测编辑**（Speculative Edits）。

这两个因素是 Cursor 生成质量高、速度快的关键。

没有哪个模型能在所有方面的表现都比其他模型更好，包括速度、代码编辑能力、处理大量代码的能力、上下文长度和代码能力等等。不过，整体上表现最好的模型是 Sonnet，这也是共识。

大量和 prompt 相关的信息，包括文档、添加的文件和对话历史等。

问题：在 context window 有限的情况下，该如何筛选和组织这些信息？
- Cursor Priompt  渲染器把内容合理地排布在页面上，只需要告诉它想要什么，它就会帮你实现。
- 开发了 Priompt 内部系统， 借鉴现代网页开发的最佳实践。和固定版式的杂志排版不同，网站开发中会涉及到的一个情况是，不同设备的中信息的展示多少、格式等是动态变化的，而用户到底在哪里查看网站开发者事前并不知道，但无论终端怎么变，都要保证网站信息在不同设备上正常显示。AI 提示词工程也是类似，我们要做到无论 input 内容多大、怎么变，output 的格式都能正确展示。


团队创始成员 Aman Sanger （CEO）、Arvid Lunnemark（CTO）、Sualeh Asif（COO）和 Michael Truell（设计主管）详细分享了 Cursor 产品体验、infra、模型训练、数据安全等细节，以及对于 AI coding、AI Agent 的思考，通过这些分享也能了解 Cursor UI/UX 背后的理念。
- • **o1 不会干掉 Cursor**，AI Coding 领域才刚刚开始；
- • 围绕**代码预测、补齐**等各类任务 Cursor 还训练了一系列专门的小模型；
- • Cursor 正在试验一个叫做 `Shadow Space` 的产品概念，后台运行一个隐藏窗口让 AI 在不影响到开发者的操作的情况下进行 coding 任务；
- • 团队在 code base  indexing 上投入了大量精力，这个 indexing 系统会成为接下来其他代码任务可以展开的基础；
- • 未来编程会是自然语言和代码将共存，根据具体任务选择最有效的交互；
- • **AI 正在重塑编程体验**，提高效率的同时保持程序员的创造力和控制力；
- • Cursor 认为 Claude 3.5 Sonnet 综合实力更强，Sonnet 最强的地方在于能够很好地**理解开发者表述并不清晰的目标**，预测程序员接下来的操作、给出适当建议；
- • 即便是 SOTA 模型, 也**不擅长找 bug**，这会是 Cursor 的机会；
- • 当前代码任务基准测试并不能准确反映模型的真实能力，因为现实中的代码任务更加复杂多样，并且充满了模糊性和上下文依赖。Cursor 团队更倾向于通过真实用户的使用反馈来评估模型的性能；
- • 目前还没有人能很好地解决 models routing 问题，底座模型和自有模型之间可以初步实现模型切换，但如果是 GPT-4o、Claude sonnet 和 o1 之间的切换可能要更加复杂。


### MarsCode

【2024-6-27】[探索豆包 MarsCode：字节跳动的AI编程助手](https://zhuanlan.zhihu.com/p/705825268)

字节跳动推出的革命性工具——豆包 [MarsCode](https://www.marscode.cn/) ，免费的AI编程助手，旨在提升开发者的编码体验。

MarsCode不仅仅是一个编程工具，它是一个全方位的AI助手，集成了代码补全、生成、解释、优化、注释生成、单元测试生成、智能问答和问题修复等强大功能。它支持多种编程语言，并且可以无缝集成到Visual Studio Code和JetBrains等主流IDE中。

主要功能
- AI助手：提供代码补全、生成、优化、注释生成和解释。
- 智能问答: 唤起对话框后，你可以在输入框中输入你的问题，然后点击 发送 按钮或敲击回车键，豆包 MarsCode 编程助手将回答你的问题。你可以进行多轮问答，不断补充细节，从而使插件的回答更加准确。


### cline

Cline是一款功能强大且完全免费的AI编程工具，能够显著提高开发效率。

代码编程插件 [Cline](https://github.com/cline/cline)
- vs code 插件[地址](https://marketplace.visualstudio.com/items?itemName=saoudrizwan.claude-dev)

![](https://pic2.zhimg.com/v2-221f39f89a39116bde7788d0524aa5ed_1440w.jpg)

VSCode中安装Cline插件：
- 打开VSCode
- 点击插件图标
- 搜索"Cline"并安装
- 安装完成后，左侧会出现小机器人图标

Cline支持配置多种API key，包括Open Router、Open AI和Ollama等。
- 也可使用 deepseek api

创建一个登录页面非常简单：
- 在Cline中输入任务描述："写一个好看的登录页面，使用HTML、JS、CSS"
- Cline会自动分析需求，并逐步生成HTML、CSS和JavaScript代码
- 最终生成的页面美观实用，完全符合预期

【2025-1-21】实践

任务：
> 生成一段html,js代码，实现功能：逐项卡片展示数组a里的项目，布局要求：第一行加粗展示“RedNote Slangs for TiktokRefugee”，其次再展示卡片，每行3个卡片，超过后另起一行，每个卡片浅蓝色背景，卡片是云朵颜色，3个字段字体颜色依次是红色、绿色、紫色，点击卡片后自动放大，要求简洁、美观、立体效果、配色好看；数据：国内常用网络用语，每个短语包含字段：中文短语、英文短语、英文解释；以 javascript list 输出, 示例 [['a', 'a', 'a']]；注意：只输出代码，不要解释

报错
> Command failed with exit code 1: powershell (Get-CimInstance -ClassName Win32_OperatingSystem).caption
'powershell' 

提交问题官方 [issue](https://github.com/cline/cline/issues/1334)

### Trae

【2025-1-20】[字节全新AI编程软件：Trae！免费无限量使用Claude](https://zhuanlan.zhihu.com/p/19573922437)

[Trae](https://www.trae.ai/) 是字节跳动推出的免费中文 AI IDE，通过 AI 技术提升开发效率。
- 支持原生中文，集成了 Claude 3.5 和 GPT-4o 等主流 AI 模型，完全免费使用。

Trae 主要功能: Builder 模式和 Chat 模式
- Builder 模式可帮助开发者从**零**开始构建项目
- Chat 模式支持对代码库或编程问题进行提问和优化。

Chat 模式
- 快捷键：使用 Cmd + i 或 Cmd + u 调用 Chat 功能。
- 交互方式：在对话框中输入问题或代码需求，Trae 会基于 AI 模型生成代码建议或解答。
- 代码更新：Trae 会显示原始代码和优化后的代码对比，开发者可以选择接受或拒绝。

Builder 模式
- 项目生成：通过简单描述（如“生成一个图片压缩工具”），Trae 可以自动生成项目代码。
- 交互执行：在生成过程中，Trae 可能会征求用户意见（如是否执行命令），需要手动确认。
- 代码预览与调试：Trae 提供 Webview 功能，可以直接在 IDE 内预览 Web 页面，方便前端开发。如果遇到错误，可以通过点击命令行中的“Add To Chat”按钮，将错误信息复制到 Chat 中，让 AI 帮助解决。
- 上下文引用：在 Chat 中可以引用代码块、文件、文件夹或整个项目。
- 命令行工具：支持在本地终端安装 Trae 的命令行工具。

注意事项：
- Trae 的 AI 功能目前不支持直接读取外网链接。
- 使用 Builder 生成项目时，建议提前手动创建虚拟环境（如 Python 的 venv 或 Conda），避免环境变量问题。

Trae 具备友好的交互设计，如代码预览、Webview 功能，以及强大的代码生成能力。

作为一款直接对标 Cursor 和 Windsurf 的全新 AI IDE，Trae 的目标不仅是与这些工具竞争，更是要弥补它们在中文开发者体验上的短板。现在 Trae IDE 的 Claude 3.5 和 GPT-4o 都是限时免费用

![](https://pic1.zhimg.com/v2-3935e23284e2f3c7368af9396a839084_1440w.jpg)




# 结束