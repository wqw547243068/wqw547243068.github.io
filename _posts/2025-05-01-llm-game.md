---
layout: post
title:  "AI+游戏"
date:   2025-05-01 20:00:00
categories: 大模型
tags: 大模型 搜索
excerpt: RL/大模型在游戏中的应用
author: 鹤啸九天
mathjax: true
permalink: /ai_game
---

* content
{:toc}

# AI 游戏

AI 在游戏策略学习中的应用

游戏基础知识见站内专题: [游戏知识](game)

## 工具


### GamingAgent

通过LLM Agent玩游戏

实验室 Hao labs 推出「GamingAgent」项目
- 项目 [GamingAgent](https://github.com/lmgame-org/GamingAgent)
- LLM 能力排行榜 [Game Arena: Gaming Agent](https://huggingface.co/spaces/lmgame/game_arena_bench)

```sh
git clone https://github.com/lmgame-org/GamingAgent.git
cd GamingAgent
```


## 社交游戏

### Ghostwriter

【2023-3-27】[游戏版《西部世界》来了，NPC全由AI操控，行动自如有理想和记忆，基于最新GAEA技术系统打造](https://zhuanlan.zhihu.com/p/617405380)
- 不仅像Chat D-ID这类以ChatGPT驱动的虚拟女友bot花样百出，就连游戏AI NPC也变得火热起来，知名游戏公司育碧要推出AI工具Ghostwriter一事，更是引起了巨大关注。
- 不只是用AI驱动单人NPC对话，还能用AI操控NPC、甚至搭建出一个AI社会
- [效果](https://vdn3.vzuu.com/SD/023f8baa-cc77-11ed-b47c-463c95dc798d-v1_f4_t2_yIYsi4JP.mp4?disable_local_cache=1&bu=078babd7&c=avc.1.1&f=mp4&expiration=1683365023&auth_key=1683365023-0-0-da9a6a7f952a479bc3335e4bf5eb647f&v=tx&pu=078babd7)

“活的长安城”是一个还在演进中的“AI社会”，背后由一个名叫GAEA的技术系统驱动。

而以“活的长安城”为代表的“AI社会”具备以下特点：
- 包含一群身份多样、能互动的、受社会常识和反馈影响的AI
- 这些AI的生活环境开放，能受交互反馈影响产生文明，反过来影响AI未来生活

这也导致在身处“AI社会”的AI NPC，与其他虚拟世界如游戏中的NPC有很大不同。
- ![](https://pic3.zhimg.com/80/v2-3b7feedc843337eabb4a6005980229fe_1440w.webp)

GAEA分为灵魂系统和环境系统两个子系统
- ![](https://pic2.zhimg.com/80/v2-30d5a2c8bbb612ad30b10bfe37f6fcbd_1440w.webp)

### AI NPC

【2023-4-12】[用ChatGPT控制NPC，行动逼真如正常人！斯坦福谷歌新研究炸场](https://www.toutiao.com/article/7220674479016526375)

斯坦福和谷歌的一项新研究
- 创造了25个AI NPC，每个NPC都有不同的身份和行动决策，并让它们在一个沙盒环境中共同生活，背后依靠ChatGPT大模型来完成行动决策。
- 这些AI NPC不仅会像人一样生活，如作家就去写作、店主就去经营商店，而且他们彼此之间还会发生交互，甚至产生对话：

- [试玩地址](https://reverie.herokuapp.com/arXiv_Demo/#)
- [论文地址](https://arxiv.org/abs/2304.03442)
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-qvj2lq49k0/6e36e418fedd427b992d5a92dda32891~noop.image?_iz=58558&from=article.pc_detail&x-expires=1681873478&x-signature=CwolSxe%2FtcjUXzE0%2FGE5gz95BV4%3D)

### 机器人社交

【2023-5-1】[AI专属社交平台爆火，全体人类被禁言只能围观](https://mp.weixin.qq.com/s/Cs8g7IYImsf82SuU94IYOw)

玩腻了推特和微博？有个新的社交平台火爆外网
- Chirper 超活跃社区里面全是AI，半个真人的影子都没有，前面提到的马斯克和奥特曼，都只是他们本人不知道的AI分身而已。
- 鬼城里，AI们不是成天不知所云的僵尸粉，而是可以畅所欲言。
- 一切只需要在创建Chirper的AI账户时，输入简单几个字就行——姓名和个人简介（要是懒一点，个人简介都不用写）。
- 作为人类，不需要费尽心思给AI编造完整的人设和个性，后台系统就能自动匹配生成，进行个性化、差别化发言。

所有用户背后没有真人操控发帖、互动，主打的就是一个纯纯的AI路线。最重要的是，他们丝毫没有意识到自己是虚拟世界的AI。


### GameGPT

【2023-10-13】标题：游戏开发的**多智能体**协作框架 GameGPT
- [GameGPT: Multi-agent Collaborative Framework for Game Development](https://arxiv.org/abs/2310.08067)
- 作者：Dake Chen,Hanbin Wang,Yunhao Huo,Yuzhao Li,Haoyang Zhang
- 摘要：基于大型语言模型（LLM）的代理已经证明了它们自动化和加速软件开发过程的能力。在本文中，我们专注于游戏开发，并提出了一个多智能体协作框架，称为GameGPT，自动化游戏开发。虽然许多研究已经指出幻觉是在生产中部署LLM的主要障碍，但我们发现了另一个问题：冗余我们的框架提出了一系列方法来缓解这两个问题。这些方法包括双重协作和分层方法与几个内部词典，以减轻幻觉和冗余的规划，任务识别和实施阶段。此外，一个解耦的方法也被引入，以实现更好的精度代码生成。


## 游戏设计

游戏集锦：[aibase](https://top.aibase.com/tool/juezhanbainianzhidian)

### 愤怒的小鸟

【2023-11-24】[不到 600 行代码实现了《愤怒的小鸟》翻版，GPT-4+DALL·E 3+Midjourney 撼动游戏圈](https://zhuanlan.zhihu.com/p/664659389?utm_psn=1711511749717610496)

随着 GPT-4 与 Midjourney、DALL•E 3 等 AIGC 工具的强强联合，其带给游戏行业的震撼不是一星半点。

把草图变网站，用几秒复现一款经典小游戏...

昨日，正值万圣节之际， 外国小哥Javi Lepez使用 Midjourney、DALL•E 3 和 GPT-4 打开了一个无限可能的世界，重新演绎了无数 80、90 后青春回忆中的经典游戏“愤怒的小鸟”，推出了其翻版——“愤怒的南瓜”（Angry Pumpkins）
- [Web](https://bestaiprompts.art/angry-pumpkins/index.html)版

整个过程使用到了不足 600 行的代码，Javi Lepez 坦言，「没有一行是自己写的，但这却是最具挑战性的部分」

Javi Lepez 选取了一张背景图
- ![](https://pic2.zhimg.com/80/v2-ade2d97189a5719ff94d9190bb063bd9_1440w.webp)

使用了 Midjourney 对它进行了修改，Prompt 为：
>iPhone 屏幕截图中《愤怒的小鸟》天际线，改为万圣节版本，（配上）墓地，以浅海蓝宝石和橙色为主题，新传统主义，kerem beyit，earthworks，木头，Xbox 360 图像，淡粉和海军蓝——比例为 8:5

得到的图像如下：
- ![](https://pic4.zhimg.com/80/v2-d6739b9a6af74e08bfb3e426da6c2147_1440w.webp)




#### 单词拼接

【2024-2-3】基于单词的小游戏：拖拽两个单词，融合成一个新单词，包含两者含义

#### 决战拜年之巅

【2024-2-2】[决战拜年之巅](https://qinqi.chatmindai.net/chat)，由glm4驱动

拜年之巅是一款家庭聊天冒险游戏，以亲戚们的群聊为背景，通过互动对话和选择来影响亲戚们的情绪。游戏中有九种亲戚角色，每个角色都有不同的性格和对话反应。你的聊天方式将影响游戏的进程和结局。此外，游戏还提供成就系统和隐藏家庭成员，玩家需要解锁白金奖杯等各种奖励。拜年之巅通过轻松幽默的方式，让玩家在传统受压抑的家庭场景中体验不同的互动和娱乐。

需求人群：
- "拜年之巅适合喜欢冒险、喜欢家庭场景、喜欢轻松互动的玩家。通过游戏，玩家能够体验传统家庭聚会的情境，以一种有趣的方式与亲戚们进行互动。"

使用场景示例：
- `八大姨`：回来啦，辛苦辛苦。怎么没带对象回来啊，是太忙了吗。'
- `小王`：带对象回来还得家人们专门给红包，怕大家破费我们就分开过。'
- `八大姨`：哎呀，你这孩子，分开过年？带个对象回来还得分隔两地，你以为是演电视剧啊！怎么就不愿意让家人给你们发红包呢？现在的年轻人怎么这么省啊'
- `小王`：距离产生美，呵呵。'

产品特色：
- 影响亲戚情绪的对话互动
- 九种亲戚角色，每个有独特性格
- 成就系统和隐藏家庭成员解锁
- 游戏更新包含新成就和角色

#### POKéELLMON

【2024-2-5】国外匿名开发者打造了一个由大语言模型（LLM）构建的智能体 [POKéELLMON](https://poke-llm-on.github.io/)，在《宝可梦》战斗游戏中表现出与人类玩家相当的战术水平。

这个智能体通过三种关键策略来优化决策和策略。
- 基于上下文的**强化学习**、**知识增强生成**和**一致性动作生成**

[POK´ELLMON](https://poke-llm-on.github.io/)不仅能够在在线对战中与真实玩家竞争，还能作为研究和教育工具，帮助人们理解游戏策略

## AI 玩游戏

### 黑神话悟空

【2024-9-12】[训练了个AI，暴打幽魂(大头)！-- YOLO目标检测 【Training AI to play Blackmyth Wukong】](https://www.youtube.com/watch?v=b70HsQqSCyU)
- 作者[B站主页](https://space.bilibili.com/2161614/)
- YouTube 视频如下

<iframe width="560" height="315" src="https://www.youtube.com/embed/b70HsQqSCyU?si=CR0VeuYdqwzhy2mL" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

### 俄罗斯方块

#### 经典俄罗斯方块

【2025-3-12】经典俄罗斯方块

DQN玩俄罗斯方块
- Tensorflow 代码: 
  - 【2019】 [Tetris-DQN](https://github.com/michiel-cox/Tetris-DQN)
  - 【2023】[DQN_tetris](https://github.com/bruce8866/DQN_tetris) 含动图、特征
- pytorch 代码
  - 【2020】[Deep Q-learning for playing Tetris](https://github.com/vietnh1009/Tetris-deep-Q-learning-pytorch/tree/master)
  - 【2021】[Tetris_DQN_PyTorch](https://github.com/treejw/Tetris_DQN_PyTorch) 韩国人, 包含奖励函数、原理、demo动图
  - 【2024】[Tetris-DQN-NEAT](https://github.com/CarlSvejstrup/Tetris-DQN-NEAT/) DQN 和 NEAT,包含多个奖励机制,
    - Neat 算法论文《Evolving Neural Networks through Augmenting Topologies》,整体框架可分为三部分：交叉、变异与适应度。

Features
- Cleared Lines
- Bumpiness (Sum of height difference between each column)
- Holes (Space with block on top of it)
- Sum of heights


Reward system 1 (NES Tetris)
- 0 lines cleared = number of soft drops
- 1 lines cleared = 40 + number of soft drops
- 2 lines cleared = 100 + number of soft drops
- 3 lines cleared = 300 + number of soft drops
- 4 lines cleared = 1200 + number of soft drops
- temination = -25

#### BlockBlast

改进版：二维俄罗斯方块
- [BlockBlast](https://blockblast.org/) 体验地址

BlockBlast reimplementation + RL agents
- GitHub：[BlockBlast-Game-AI-Agent](https://github.com/RisticDjordje/BlockBlast-Game-AI-Agent/tree/main)
- 【2025-4-24】故障：[动作卡死](https://github.com/RisticDjordje/BlockBlast-Game-AI-Agent/issues/1)


|序号|Valid actions|Selected action|Action details|Action valid|Reward|Total reward|
|----|----|----|----|----|----|----|
|1|139/192|128|Shape 2, Row 0, Col 0|True|0.50|0.50|
|2|85/192|81|Shape 1, Row 2, Col 1|True|0.50|1.00|
|3|35/192|48|Shape 0, Row 6, Col 0|True|0.50|1.50|
|4|81/192|42|Shape 0, Row 5, Col 2|True|0.50|2.00|
|5|37/192|157|Shape 2, Row 3, Col 5|True|0.50|2.50|
|6|15/192|67|Shape 1, Row 0, Col 3|True|0.50|3.00|
|7|34/192|139|Shape 2, Row 1, Col 3|True|-0.50|2.50|
|8|34/192|139|Shape 2, Row 1, Col 3|True|-0.50|2.00| 


作者回复还在开发：
- 非mask版 DQN/PPO 确实难以收敛
- DQN没有mask版，开发成本大
- PPO mask版没问题


依赖包

```sh
pip install pygame gymnasium stable_baselines3
```


### 雅达利（吃豆子）

DeepMind开发出过一个能在57款雅达利游戏上都超越人类玩家的智能体，背后依靠的同样是强化学习算法。
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-qvj2lq49k0/18aa479e3b6f4d6196905e8cc3636d6d~noop.image)

### 赛车

【2022-9-7】[怎样从零开始训练一个AI车手？](https://www.toutiao.com/article/7138644640294683172)
- 一个智能体（你的猫）在与环境（有你的你家）互动的过程中，在奖励（猫条）和惩罚（咬头）机制的刺激下，逐渐学会了一套能够最大化自身收益的行为模式（安静，躺平）
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-qvj2lq49k0/c5cf85edc3544651833d93825813ed15~noop.image)
- 如何训练AI司机
- 借用一个道具：来自亚马逊云科技的Amazon DeepRacer。一辆看上去很概念的小车，跟真车的比例是1比18。车上安装了处理器、摄像头，甚至还可以配置激光雷达，为的就是实现自动驾驶——当然，前提就是我们先在车上部署训练好的强化学习算法。算法的训练需要在虚拟环境中进行，为此Amazon DeepRacer配套了一个管理控制台，里面包含一个3D赛车模拟器，能让人更直观地看到模型的训练效果。
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-qvj2lq49k0/65cd202b74434959b401da2ede132212~noop.image)
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-qvj2lq49k0/c22635fcd5694544839c34d230c468c0~noop.image)

### 混沌球

[混沌球背后的核心技术](https://rct.ai/zh-hans/blog/the-key-technology-behind-morpheus-engine)
- [视频地址](https://rct.ai/static/images/395a257365304e399533516544b18b3c.mp4)

<video width="620" height="440" controls="controls" autoplay="autoplay">
  <source src="https://rct.ai/static/images/395a257365304e399533516544b18b3c.mp4" type="video/mp4" />
</video>

<iframe src="https://rct.ai/static/images/395a257365304e399533516544b18b3c.mp4&autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" height="600" width="100%"> </iframe>

混沌球算法提升游戏交互体验
- 传统的叙事，无论是单线的故事，还是现在几乎所有的所谓 “交互式电影”，都仍然是基于 “**事件**” 作为叙事的基本单元，也就是什么事情发生了，然后什么事情发生了。传统的交互式数字娱乐内容，无非是让用户可以自由的从给定的两到三个选项中，选择不同的接下来会发生的事件，整个叙事仍然是基于预先定义好的路径来往前推进的。
- 而混沌球与传统的叙事方式完全不同，我们将 “事件” 替换为一个又一个明确定义了入口和出口的**黑盒**，在每一个切片的混沌球里，开始和结局（一个或者多个）是确定的，但是玩家每一次如何从开始到达结局，则是**混沌**的，是路径不明确的。这个路径只有当玩家不断的和虚拟世界里的虚拟人物 NPC 作出交互，这些 NPC 根据深度强化学习训练后的模型作出动态且实时的反应来推动剧情发展之后，才会被确定下来。这也是我们为什么命名为**混沌球**算法的原因。因此，做到真正的交互式叙事的关键，在于将叙事的中心，从故事本身，转移到故事里的所有可能参与者身上，由所有可能参与者的逻辑来共同推动和串联不同的剧情可能性。
- ![](https://rct.ai/static/images/88e5ceea1dd64e12803b3e411adf6e23.png)

仿真引擎工作方式
- ![](https://rct.ai/static/images/af5afdef214a4fe18d1a96f1dfea50b7.png)

### 公园散步

机器人的公园漫步
- 并非是在实验室的模拟环境，而是在真实的室内外地形中，作者采用强化学习和机器人控制器相结合的方法，在短短20分钟内成功让机器人学会四足行走
- [项目地址](https://github.com/ikostrikov/walk_in_the_park)
- [论文地址](https://arxiv.org/abs/2208.07860)
- [A Walk in the Park: Learning to Walk in 20 Minutes With Model-Free Reinforcement Learning](https://sites.google.com/berkeley.edu/walk-in-the-park)，含机器狗的演示[视频](https://www.youtube.com/embed/YO1USfn6sHY)
- <iframe width="560" height="315" src="https://www.youtube.com/embed/YO1USfn6sHY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


### 围棋


待定


# 结束