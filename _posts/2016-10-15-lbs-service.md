---
layout: post
title:  "LBS 技术专题"
date:   2016-10-15 10:30:00
categories: 技术工具
tags: 高德 gps geohash
author : 鹤啸九天
excerpt: LBS 技术相关知识
mathjax: true
permalink: /lbs
---

# LBS 技术

汇总 LBS 相关技术

## 地理坐标


### 如何判断距离

【2022-7-13】高德用户常驻点挖掘，拿用户过去一个月的定位点数据聚类，大大超过阿里odps单机800m限制，于是开始思考如何精简数据，方法：
- ① 根据时间信息计算定位点瞬时速度，加速度，剔除运动点，漂移点，过滤了大概2/3
- ② geohash，将地理坐标投射到直线上，降低数据量
  - [geometry](https://halfrost.com/go_spatial_search/) 比geohash 好？
  - [geohash](https://www.cnblogs.com/tgzhu/articles/6204173.html)
- ③ 改进密度聚类算法dbscan，球面距离计算公式部分改成根据经纬度明式距离直接排除噪声点…最终在odps跑通了…另外，调研过路径匹配的方案，微软有篇文章

## 定位


### 卫星导航系统

《日本经济新闻》2020年8月20日报道，美国长期以来一直是全球卫星定位系统的领导者，但现在，中国的北斗卫星导航系统在规模上已经超过美国的GPS。
- [中国北斗与美国GPS差距有多大？核心数据曝光，日媒惊叹](https://zhuanlan.zhihu.com/p/79153773)

全球4大卫星导航系统对比

| 系统 | GPS | 北斗 | GLONASS | Galileo |
|---|---|---|---|---|
| 研制国家 | 美国 | 中国 | 俄罗斯 | 欧盟 |
| 首颗卫星升空时间 | 1985年 | 1989年 | 2000年 | 2011年 |
| 卫星总数 | 43颗 | 38颗 | 24颗 | 30颗 |
| 应用时间 | 1994年 | 2000年北斗一号、2012年北斗二号、2020年北斗三号 | 2016年（早期工作能力) | 2007年（服务俄罗斯)、2009年(服务全球) |
| 竞争优势 | 成熟 | 开放且具备短信通信功能 | 抗干扰能力强 | 精度高 |
| 后期发展 | 预计于2033年部署完成由GPS三代卫星组成的空间星座，届时定位精度可达：水平2.1m、高程3.2m | 预计于2020年完成全球覆盖，届时定位精度最高可达2.5m | 计划于2025年前将其更新为GLONASS-K，系统届时定位精度可达3m | 预计于2019年建成，届时将具备完全工作能力，最高精度可达1m以内 |

GPS仅向地面发送信号，难以锁定接收信号的终端的位置信息，但北斗还有一点优势，它具备收发信号的功能。

美国曾借助GPS在全球定位服务领域先行一步，而中国正一步步夺取美国的地位。可以清晰地看到，在卫星领域中国已开始反超美国。

卫星导航定位行业按照定位精度差别可区分为两大服务群体：
- 一是**高精度GNSS**行业（常规使用的定位误差在**米级**以下），应用在测绘勘探、地理信息、地质灾害监测、精细农林业、国防、时间同步等领域
- 二是**消费类**行业（常规使用的定位误差在1米至**10米**以上），例如手机导航、车载导航等。近年来，随着大数据、物联网特别是无人驾驶等新兴技术的不断进步，用定位精度来区分服务群体的界限已逐渐模糊。例如高精度定位在无人驾驶技术中占据了极为重要的位置，而无人驾驶显然未来的属性为消费类。

北斗将在自动驾驶领域大放异彩，北斗高精度芯片将作为新车的标配，为自动驾驶提供亚米级甚至厘米级定位服务，而相关的北斗高精度服务也将迎来最大的客户需求。


### GPS

待定

### 北斗

#### 哪些手机支持北斗

中科院官方科普平台“科学大院”介绍，北斗信号的获取主要取决于**手机处理器**（SOC）中集成的**定位芯片**，目前大多SOC都能同时支持`GPS`、`北斗`和`GlONASS`：
- 高通骁龙800、600、400系列，其中目前常见的820、821、835高端型号是支持北斗的，中低端的652、650、625、436，甚至更老的一些型号也都是支持。
- 联发科类似，目前常见的P10、P15、P20、X20，之前的X10都支持接收北斗信号。
- 华为海思很早就支持了北斗。从麒麟930开始，集成的Hi1101四合一芯片可以同时接收GPS、北斗和GLonass三种信号。
- 也就是说，除了任性的苹果，采用这些SOC的华为、O&V、小米、一加、魅族、HTC、努比亚等品牌的大部分型号手机都支持北斗定位

#### 如何切换北斗

测试软件试试，比如“GPS状态”、“北斗伴”、“AndroiTS GPS Test Pro”等等，以AndroiTS GPS Test Pro为例：找个户外开阔的地方，打开手机的“位置服务”，然后运行[AndroiTS GPS Test Pro](http://www.danji100.com/app/139506.html)软件，效果如下：
- ![](https://pic3.zhimg.com/80/v2-d66172d2edc6a3d7a6cdd12a8463c682_720w.jpg)
- 1、在手机桌面点击打开“应用市场”。
- 2、点击搜索“AndroiTS GPS Test Pro”软件下载安装到手机。
- 3、点击“设置”。
- 4、点击列表中“定位服务”。
- 5、将右侧滑动按钮开启。
- 6、AndroiTS GPS Test Pro软件，点击最下方第三个图标，就是我国的北斗导航卫星系统。


手机导航，其实是北斗进入比较晚的行业了。现任中国卫星导航系统管理办公室主任、北斗系统新闻发言人冉承其曾给出一组数据：过去5年，我国480万辆营运车辆上线“北斗”，建成全球最大的北斗车联网平台，全国4万余艘渔船安装“北斗”。他以北京为例，已有33500辆出租车、21000辆公交车安装“北斗”，实现“北斗”定位全覆盖；1500辆物流货车及19000名配送员，使用“北斗”终端和手环接入物流云平台，实现实时调度。


# 结束
















